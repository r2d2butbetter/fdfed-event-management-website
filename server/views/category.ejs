<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="/css/category.css">
    <title>
        <%= category %> - NIGHTLIFE
    </title>
</head>

<body class="background-container">
    <%- include('partials/navbar') %>

        <h1 class="home-heading" style="color: white; text-align: center;">
            <%= category %>
        </h1>

        <div class="cards-container">
            <% if (cards.length> 0) { %>
                <% cards.forEach(function(card) { %>
                    <div class="category-card">
                        <img src="<%= card.image || '/images/default-event.png' %>" alt="<%= card.title %>"
                            class="event-image">
                        <p class="event-title">
                            <%= card.title %>
                        </p>
                    </div>
                    <% }); %>
                        <% } else { %>
                            <p style="color: white; text-align: center;">No events found in this category.</p>
                            <% } %>
        </div>

        <%- include('partials/footer') %>

            <script>
                document.querySelectorAll('.category-card').forEach(card => {
                    card.addEventListener('click', () => {
                        const eventId = card.getAttribute('data-id');
                        console.log('Redirecting to:', `/event/${eventId}`);

                        if (eventId) {
                            window.location.href = `/event/${eventId}`;
                        } else {
                            console.error('Event ID is missing');
                        }
                    });
                });

            </script>

</body>

</html>